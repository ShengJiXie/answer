(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/family"],{1018:function(t,e,i){},"48eb":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e,i){var a=arguments[arguments.length-1].currentTarget.dataset,n=a.eventParams||a["event-params"];i=n.item;return t.$store.commit("GlobalUrl","/pages/user/archives?id="+i.record_id)})},s=[]},5943:function(t,e,i){"use strict";(function(t){i("c632");a(i("66fd"));var e=a(i("a531"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"89e7":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{key:null,name:null,phone:null,code:null,company:null,picture:[],marital_status:2,is_drug:0,medical_history:null,fileList:[],type:0,list:[],id:t.getStorageSync("getUserInfo").data.record_id}},methods:{radioMarriage:function(t){this.marital_status=t},radioAllergy:function(t){this.is_drug=t},imgdelet:function(t){this.picture.splice(t.detail.index,1),this.$scope.setData({picture:this.picture})},afterRead:function(e){var i=this;this.$api.ApiPost({type:666,date:{file:e.target.file.path}}).then((function(e){console.log(e);var a=JSON.parse(e[1].data);0===a.code&&t.showToast({title:a.msg,duration:3e3}),i.picture.push({url:a.url,deletable:!0}),i.$scope.setData({picture:i.picture})}))},AddFamily:function(){0===this.type?this.type=1:this.type=0},onChanges:function(t){"key"==t.target.id?this.key=t.detail:"name"==t.target.id?this.name=t.detail:"medical_history"==t.target.id?this.medical_history=t.detail.value:"phone"==t.target.id?this.phone=t.detail:"code"==t.target.id?this.code=t.detail:"company"==t.target.id&&(this.company=t.detail)},formSubmit:function(){if(1===this.type||2===this.type){var e=[];this.picture.forEach((function(t,i){e.push(t.url)})),null!=this.phone&&""!=this.phone&&""!=this.name&&null!=this.name&&null!=this.key&&""!=this.key&&""!=this.medical_history?this.$api.ApiPost({type:60,date:{type:2===this.type?0:1,member_id:this.$store.state.member_id,identity_id:this.key,name:this.name,gender:"男",tel:this.phone,company_id:this.code,company:this.company,marital_status:this.marital_status,is_drug:this.is_drug,medical_history:this.medical_history,picture:e}}).then((function(e){t.showToast({title:e.msg,duration:3e3,icon:"none"}),0===e.code&&setTimeout((function(){t.switchTab({url:"/pages/user/person"})}),3e3)})):t.showToast({title:"请填写真实数据并确保全部填写完整",icon:"none",duration:3e3})}else if(3===this.type){var i=[];this.picture.forEach((function(t,e){i.push(t.url)})),this.$api.ApiPost({type:61,date:{record_id:this.id,identity_id:this.key,name:this.name,tel:this.phone,company_id:this.code,gender:t.getStorageSync("getUserInfo").data.gender,company:this.company,marital_status:this.marital_status,is_drug:this.is_drug,drug_text:"",medical_history:this.medical_history,picture:i}}).then((function(e){t.showToast({title:e.msg,duration:3e3,icon:"none"}),0===e.code&&setTimeout((function(){t.switchTab({url:"/pages/user/person"})}),3e3)}))}}},onShow:function(){this.list=t.getStorageSync("PersonArchivesFamily").data},onLoad:function(e){var i=this;if(console.log(e),3==e.type){var a=t.getStorageSync("PersonArchives").data;this.key=a.identity_id,this.name=a.name,this.phone=a.tel,this.code=a.company_id,this.company=a.company,this.medical_history=a.medical_history,null!=a.picture?(a.picture.forEach((function(t){i.picture.push({url:t,deletable:!0})})),this.$scope.setData({picture:this.picture})):this.picture=[],this.radioMarriage(a.marital_status),this.radioAllergy(a.is_drug)}e.type&&(this.type=Number(e.type)),e.id&&(this.id=Number(e.id))}};e.default=i}).call(this,i("543d")["default"])},9046:function(t,e,i){"use strict";var a=i("1018"),n=i.n(a);n.a},a531:function(t,e,i){"use strict";i.r(e);var a=i("48eb"),n=i("bd15");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("9046");var r,o=i("f0c5"),u=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=u.exports},bd15:function(t,e,i){"use strict";i.r(e);var a=i("89e7"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a}},[["5943","common/runtime","common/vendor"]]]);