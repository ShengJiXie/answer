(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/global/globalForm"],{"2ef7":function(t,i,a){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{arr:[],key:[],date:"请选择确诊日期",statetype:!1,dates:"请选择确诊日期",type:1,datas:1===this.type?{diabetic_type:{},d_make_date:"2020-12-07",hypertension_Type:{},h_make_date:"2020-12-07",therapy_method:{},blood_status:{},diabetic_syndrome:{}}:null,id:t.getStorageSync("getUserInfo").data.record_id,ids:1===this.type?t.getStorageSync("PersonArchives").data.Chronic_id:t.getStorageSync("PersonArchives").data.liveCus_id}},methods:{PickerChanges:function(t){switch(console.log(t),Number(t.target.id)){case 0:this.datas.diabetic_type.name=this.arr[t.target.id].optionList[t.detail.value].name,this.datas.diabetic_type.id=this.arr[t.target.id].optionList[t.detail.value].id;break;case 1:this.datas.hypertension_Type.name=this.arr[t.target.id].optionList[t.detail.value].name,this.datas.hypertension_Type.id=this.arr[t.target.id].optionList[t.detail.value].id;break;case 2:this.datas.therapy_method.name=this.arr[t.target.id].optionList[t.detail.value].name,this.datas.therapy_method.id=this.arr[t.target.id].optionList[t.detail.value].id;break;case 3:this.datas.blood_status.name=this.arr[t.target.id].optionList[t.detail.value].name,this.datas.blood_status.id=this.arr[t.target.id].optionList[t.detail.value].id;break;case 4:this.datas.diabetic_syndrome.name=this.arr[t.target.id].optionList[t.detail.value].name,this.datas.diabetic_syndrome.id=this.arr[t.target.id].optionList[t.detail.value].id;break}this.$scope.setData({datas:this.datas})},DateChanges:function(t){0==t.target.id?this.datas.d_make_date=t.detail.value:this.datas.h_make_date=t.detail.value},api:function(t){var i=this,a=this;this.$api.ApiPost({type:300,date:{type:t}}).then((function(t){a.arr=t.data,1===i.type?a.$api.ApiPost({type:777,date:{chronic_id:i.ids}}).then((function(t){if(console.log(t),null!=t.data){t.data;i.datas=t.data,i.arr[0].optionList.forEach((function(t){i.datas.diabetic_type===t.id&&(i.datas.diabetic_type={name:t.name,id:t.id})})),i.arr[1].optionList.forEach((function(t){i.datas.hypertension_Type===t.id&&(i.datas.hypertension_Type={name:t.name,id:t.id})})),i.arr[2].optionList.forEach((function(t){i.datas.therapy_method===t.id&&(i.datas.therapy_method={name:t.name,id:t.id})})),i.arr[3].optionList.forEach((function(t){i.datas.blood_status===t.id&&(i.datas.blood_status={name:t.name,id:t.id})})),i.arr[4].optionList.forEach((function(t){i.datas.diabetic_syndrome===t.id&&(i.datas.diabetic_syndrome={name:t.name,id:t.id})}))}i.statetype=!0})):a.$api.ApiPost({type:778,date:{liveCus_id:i.ids}}).then((function(t){console.log(t)}))}))},formSubmit:function(){if(1===this.type){var i=this.datas;i.record_id=this.id,this.$api.ApiPost({type:69,date:i}).then((function(i){t.showToast({title:i.msg,icon:"none",duration:3e3}),setTimeout((function(){t.navigateBack({url:"/pages/user/article"})}),3e3)}))}else this.$api.ApiPost({type:70,date:{record_id:this.id,work_grade:this.arr[0].optionList[this.key[0]].id,sports_grade:this.arr[1].optionList[this.key[1]].id,sleep_grade:this.arr[2].optionList[this.key[2]].id,mood_grade:this.arr[3].optionList[this.key[3]].id,food_like:this.arr[4].optionList[this.key[4]].id,drink_status:this.arr[5].optionList[this.key[5]].id,smoke_status:this.arr[6].optionList[this.key[6]].id}}).then((function(i){t.showToast({title:i.msg,icon:"none",duration:3e3}),setTimeout((function(){t.navigateBack({url:"/pages/user/archives"})}),3e3)}))},formSubmits:function(){1===this.type?this.$api.ApiPost({type:81,date:{chronic_id:this.ids,diabetic_type:this.datas.diabetic_type.id,d_make_date:this.datas.d_make_date,hypertension_Type:this.datas.hypertension_Type.id,h_make_date:this.datas.h_make_date,therapy_method:this.datas.therapy_method.id,blood_status:this.datas.blood_status.id,diabetic_syndrome:this.datas.diabetic_syndrome.id}}).then((function(i){t.showToast({title:i.msg,icon:"none",duration:3e3}),setTimeout((function(){t.navigateBack({url:"/pages/user/article"})}),3e3)})):-1!=this.key.indexOf(-1)?t.showToast({title:"请全部填写完整",icon:"none",duration:3e3}):this.$api.ApiPost({type:70,date:{record_id:this.id,work_grade:this.arr[0].optionList[this.key[0]].id,sports_grade:this.arr[1].optionList[this.key[1]].id,sleep_grade:this.arr[2].optionList[this.key[2]].id,mood_grade:this.arr[3].optionList[this.key[3]].id,food_like:this.arr[4].optionList[this.key[4]].id,drink_status:this.arr[5].optionList[this.key[5]].id,smoke_status:this.arr[6].optionList[this.key[6]].id}}).then((function(i){t.showToast({title:i.msg,icon:"none",duration:3e3}),setTimeout((function(){t.navigateBack({url:"/pages/user/archives"})}),3e3)}))}},onLoad:function(t){this.api(t.type),this.type=Number(t.type),t.id&&(this.id=t.id,this.ids=t.ids,this.$scope.setData({id:this.id,ids:this.ids}))}};i.default=a}).call(this,a("543d")["default"])},9370:function(t,i,a){"use strict";var e;a.d(i,"b",(function(){return s})),a.d(i,"c",(function(){return d})),a.d(i,"a",(function(){return e}));var s=function(){var t=this,i=t.$createElement;t._self._c},d=[]},9845:function(t,i,a){"use strict";a.r(i);var e=a("2ef7"),s=a.n(e);for(var d in e)"default"!==d&&function(t){a.d(i,t,(function(){return e[t]}))}(d);i["default"]=s.a},a285:function(t,i,a){},a765:function(t,i,a){"use strict";(function(t){a("c632");e(a("66fd"));var i=e(a("c233"));function e(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,a("543d")["createPage"])},c233:function(t,i,a){"use strict";a.r(i);var e=a("9370"),s=a("9845");for(var d in s)"default"!==d&&function(t){a.d(i,t,(function(){return s[t]}))}(d);a("fc79");var o,n=a("f0c5"),r=Object(n["a"])(s["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],o);i["default"]=r.exports},fc79:function(t,i,a){"use strict";var e=a("a285"),s=a.n(e);s.a}},[["a765","common/runtime","common/vendor"]]]);